"use strict";(self.webpackChunkchat_app=self.webpackChunkchat_app||[]).push([[148],{7148:function(n,e,t){t.r(e),t.d(e,{default:function(){return _}});var a,r=t(168),o=t(5861),i=t(9439),c=t(7757),s=t.n(c),u=t(2791),d=t(6444),l=t(4569),f=t.n(l),p=t(9778),m=t(6082),g=t(577),h=(t(5462),t(7689)),v=t(8204),S=t(184);function _(){var n=(0,h.s0)(),e=(0,u.useState)([]),t=(0,i.Z)(e,2),a=t[0],r=t[1],c=(0,u.useState)(!0),d=(0,i.Z)(c,2),l=d[0],_=d[1],E=(0,u.useState)(void 0),T=(0,i.Z)(E,2),O=T[0],b=T[1],C={position:"bottom-right",autoClose:8e3,pauseOnHover:!0,draggable:!0,theme:"dark"};(0,u.useEffect)((0,o.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:localStorage.getItem({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_LOCALHOST_KEY)||n("/login");case 1:case"end":return e.stop()}}),e)}))),[]);var P=function(){var e=(0,o.Z)(s().mark((function e(){var t,r,o;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0!==O){e.next=4;break}g.Am.error("Please select an avatar",C),e.next=12;break;case 4:return e.next=6,JSON.parse(localStorage.getItem({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_LOCALHOST_KEY));case 6:return t=e.sent,e.next=9,f().post("".concat(v.TC,"/").concat(t._id),{image:a[O]});case 9:r=e.sent,(o=r.data).isSet?(t.isAvatarImageSet=!0,t.avatarImage=o.image,localStorage.setItem({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_LOCALHOST_KEY,JSON.stringify(t)),n("/")):g.Am.error("Error setting avatar. Please try again.",C);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return(0,u.useEffect)((0,o.Z)(s().mark((function n(){var e,t,a,o;return s().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e=[],t=0;case 2:if(!(t<5)){n.next=11;break}return n.next=5,f().get("".concat("https://api.multiavatar.com/4645646","/").concat(Math.round(1e3*Math.random())));case 5:a=n.sent,o=new p.lW(a.data),e.push(o.toString("base64"));case 8:t++,n.next=2;break;case 11:r(e),_(!1);case 13:case"end":return n.stop()}}),n)}))),[]),(0,S.jsx)(S.Fragment,{children:l?(0,S.jsx)(x,{children:(0,S.jsx)("img",{src:m,alt:"loader",className:"loader"})}):(0,S.jsxs)(x,{children:[(0,S.jsx)("div",{className:"title-container",children:(0,S.jsx)("h1",{children:"Pick an Avatar as your profile picture"})}),(0,S.jsx)("div",{className:"avatars",children:a.map((function(n,e){return(0,S.jsx)("div",{className:"avatar ".concat(O===e?"selected":""),children:(0,S.jsx)("img",{src:"data:image/svg+xml;base64,".concat(n),alt:"avatar",onClick:function(){return b(e)}},n)})}))}),(0,S.jsx)("button",{onClick:P,className:"submit-btn",children:"Set as Profile Picture"}),(0,S.jsx)(g.Ix,{})]})})}var x=d.ZP.div(a||(a=(0,r.Z)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  flex-direction: column;\n  gap: 3rem;\n  background-color: #131324;\n  height: 100vh;\n  width: 100vw;\n\n  .loader {\n    max-inline-size: 100%;\n  }\n\n  .title-container {\n    h1 {\n      color: white;\n    }\n  }\n  .avatars {\n    display: flex;\n    gap: 2rem;\n\n    .avatar {\n      border: 0.4rem solid transparent;\n      padding: 0.4rem;\n      border-radius: 5rem;\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      transition: 0.5s ease-in-out;\n      img {\n        height: 6rem;\n        transition: 0.5s ease-in-out;\n      }\n    }\n    .selected {\n      border: 0.4rem solid #4e0eff;\n    }\n  }\n  .submit-btn {\n    background-color: #4e0eff;\n    color: white;\n    padding: 1rem 2rem;\n    border: none;\n    font-weight: bold;\n    cursor: pointer;\n    border-radius: 0.4rem;\n    font-size: 1rem;\n    text-transform: uppercase;\n    &:hover {\n      background-color: #4e0eff;\n    }\n  }\n"])))},8204:function(n,e,t){t.d(e,{ho:function(){return a},VU:function(){return r},X0:function(){return o},p_:function(){return i},pK:function(){return c},JC:function(){return s},Bw:function(){return u},TC:function(){return d}});var a="http://localhost:5000",r="".concat(a,"/api/auth/login"),o="".concat(a,"/api/auth/register"),i="".concat(a,"/api/auth/logout"),c="".concat(a,"/api/auth/allusers"),s="".concat(a,"/api/messages/addmsg"),u="".concat(a,"/api/messages/getmsg"),d="".concat(a,"/api/auth/setavatar")},6082:function(n,e,t){n.exports=t.p+"static/media/loader.b40fc3d91ff1f4db53e2.gif"}}]);
//# sourceMappingURL=148.970e468e.chunk.js.map